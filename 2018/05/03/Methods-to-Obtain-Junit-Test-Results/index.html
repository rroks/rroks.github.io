<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--
          My life for si,
          though we can never go back.
          Fen Ch
    -->

    <!-- @
                                                       ▄              ▄
                                                      ▌▒█           ▄▀▒▌
            wow                                       ▌▒▒█        ▄▀▒▒▒▐
                                                     ▐▄▀▒▒▀▀▀▀▄▄▄▀▒▒▒▒▒▐
                                                   ▄▄▀▒░▒▒▒▒▒▒▒▒▒█▒▒▄█▒▐
                such code                         ▄▀▒▒▒░░░▒▒▒░░░▒▒▒▀██▀▒▌
                                                ▐▒▒▒▄▄▒▒▒▒░░░▒▒▒▒▒▒▒▀▄▒▒▌
                                                ▌░░▌█▀▒▒▒▒▒▄▀█▄▒▒▒▒▒▒▒█▒▐
                                               ▐░░░▒▒▒▒▒▒▒▒▌██▀▒▒░░░▒▒▒▀▄▌
                                               ▌░▒▄██▄▒▒▒▒▒▒▒▒▒░░░░░░▒▒▒▒▌
                          very html           ▀▒▀▐▄█▄█▌▄░▀▒▒░░░░░░░░░░▒▒▒▐
                                              ▐▒▒▐▀▐▀▒░▄▄▒▄▒▒▒▒▒▒░▒░▒░▒▒▒▒▌
                                              ▐▒▒▒▀▀▄▄▒▒▒▄▒▒▒▒▒▒▒▒░▒░▒░▒▒▐
                much css                       ▌▒▒▒▒▒▒▀▀▀▒▒▒▒▒▒░▒░▒░▒░▒▒▒▌
                                               ▐▒▒▒▒▒▒▒▒▒▒▒▒▒▒░▒░▒░▒▒▄▒▒▐
                                                ▀▄▒▒▒▒▒▒▒▒▒▒▒░▒░▒░▒▄▒▒▒▒▌
                              so meta             ▀▄▒▒▒▒▒▒▒▒▒▒▄▄▄▀▒▒▒▒▄▀
                                                     ▀▄▄▄▄▄▄▀▀▀▒▒▒▒▒▄▄▀
                                                      ░▒▒▒▒▒▒▒▒▒▒▀▀
    -->

    <!--Description-->
    
        <meta name="description" content="Fen is here.">
    

    <!--Author-->
    
        <meta name="author" content="Fen Chy">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Methods to Obtain JUnit Test Results">
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="Fen is here.">
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="FenC">

    <!--Type page-->
    
        <meta property="og:type" content="article">
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>Methods to Obtain JUnit Test Results - FenC</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Google Analytics -->
    


    <!-- favicon -->
    

</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">-.-. -.-.</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags">
                            
                                Tags
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            
                                Categories
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/rroks">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('/img/0004.png')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Methods to Obtain JUnit Test Results</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            2018-05-03
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <script src="/assets/js/APlayer.min.js"> </script><iframe width="100%" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fmayumii%2Fuu2rdpb2acta&auto_play=true&hide_related=true&show_comments=true&show_user=true&show_reposts=false&color=ff5500&show_artwork=true"></iframe>
<p>During past few days, I have been working on JUnit test and tried to find out an easy way to get JUnit test results in real time from outer application (and finally post to my front end webpage). Indeed there are several ways to do that but some of which could be quite roundabout.</p>
<p>In this blog, I am going to discuss some methods I found to do that.</p>
<h2 id="Possible-Solutions"><a href="#Possible-Solutions" class="headerlink" title="Possible Solutions"></a>Possible Solutions</h2><h3 id="IDEA-Test-Runner"><a href="#IDEA-Test-Runner" class="headerlink" title="IDEA Test Runner"></a>IDEA Test Runner</h3><p>Eclipse is not concerned here since I don’t use it, though its usage should be similar to that of IDEA.</p>
<p>IDEA can launch tests very well, result of tests are listed out and updated in real time. It can even generate graceful html report for the last compiled test suite. The problem is how to get those runtime output. IDEA JUnit launcher should be implemented by Jetbrains and users don’t have privileges to access those implementations.</p>
<h3 id="Console-Launcher"><a href="#Console-Launcher" class="headerlink" title="Console Launcher"></a>Console Launcher</h3><p>JUnit provides a command line Java application that lets users run JUnit via console. See JUnit Console Launcher guide <a href="https://junit.org/junit5/docs/5.0.0-M2/user-guide/#running-tests-console-launcher" target="_blank" rel="noopener">here</a>.</p>
<p>However, it seems that this tool doesn’t provide methods to obtain tests detail during runtime from outer console (actually I failed to use it for some configuration problems that I have not solved yet). If I want to get test details during runtime, a console listener would be necessary, which could be quite awkward.</p>
<h3 id="Maven-Surefire-Plugin"><a href="#Maven-Surefire-Plugin" class="headerlink" title="Maven Surefire Plugin"></a>Maven Surefire Plugin</h3><p>Maven probides surefire to launch JUnit tests(actually JUnit group mentioned this in their user guide). Besides Maven, Gradle can also do similar jobs, though I have never used Gradle. :P</p>
<p>Maven handles lots of job for users and will generate reports for JUnit tests. In those report files, details of every tests will be presented. However, the problem is similar to that of console launcher. </p>
<p>See susrefire docs <a href="http://maven.apache.org/surefire/maven-surefire-plugin/index.html" target="_blank" rel="noopener">here</a>.</p>
<h3 id="TestExecutionListener"><a href="#TestExecutionListener" class="headerlink" title="TestExecutionListener"></a>TestExecutionListener</h3><p>JUnit 5 provides a TestExecutionListener interface so that users can implement their own listener and register it. By doing so, users can do something more complex. This method will stuck developers not know much about JUnit test, though it is the most powerful way to do that so. </p>
<p>See TestExecutionListener docs <a href="https://junit.org/junit5/docs/current/api/org/junit/platform/launcher/TestExecutionListener.html" target="_blank" rel="noopener">here</a>.</p>
<h3 id="AfterTestExecutionCallback"><a href="#AfterTestExecutionCallback" class="headerlink" title="AfterTestExecutionCallback"></a>AfterTestExecutionCallback</h3><p>This is another interface of JUnit 5. It is a functional interface. AfterTestExecutionCallback provides API for behaviours to be done immediately after each test case is done. And it would be called before any user defined teardown methods (e.g., @AfterEach methods). An ExtensionContext parameter could be used to get some brief information about the test. However, ExtensionContext can’t provide users the test result directly, though we can figure it out via .getExecutionException().isPresent() method because assertion fails will throw an AssertionFailedError. But do remenber that other exceptions will also throw exceptions and make the method return value true. Then we can use if statement to trigger some behaviours (like notify the front end webpage).</p>
<p>See ExtensionContext docs <a href="https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/extension/ExtensionContext.html#getExecutionException(" target="_blank" rel="noopener">here</a>)<br>See AfterTestExecutionCallback docs <a href="https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/extension/AfterTestExecutionCallback.html" target="_blank" rel="noopener">here</a>.</p>
<h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><p>The implementation could be quite simple as the following codes show.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.extension.AfterTestExecutionCallback;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.extension.ExtensionContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NotifierExtension</span> <span class="keyword">implements</span> <span class="title">AfterTestExecutionCallback</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterTestExecution</span><span class="params">(ExtensionContext extensionContext)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Boolean testResult = extensionContext.getExecutionException().isPresent();</span><br><span class="line">        <span class="keyword">if</span> (testResult) &#123;</span><br><span class="line">            <span class="comment">//do something</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//do another thing</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And before every class or methods to use custom <code>AfterTestExecutionCallback</code> add <code>@ExtendWith(NotifierExtension.class)</code> annotation.</p>
<p>If we run command <code>mvn test</code> to launch JUnit tests, some report files will be generated under <code>project/target/surefire-reports</code> directory. We can make the backend application notify the front end by some ways that the test results are ready, then the front end can load those report files.</p>
<h2 id="Maven-Dependency"><a href="#Maven-Dependency" class="headerlink" title="Maven Dependency"></a>Maven Dependency</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;project&gt;</span><br><span class="line">  [...]</span><br><span class="line">    &lt;build&gt;</span><br><span class="line">      &lt;pluginManagement&gt;</span><br><span class="line">        &lt;plugins&gt;</span><br><span class="line">          &lt;plugin&gt;</span><br><span class="line">            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;2.21.0&lt;/version&gt;</span><br><span class="line">            &lt;dependencies&gt;</span><br><span class="line">                &lt;dependency&gt;</span><br><span class="line">                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;</span><br><span class="line">                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;</span><br><span class="line">                    &lt;version&gt;1.2.0&lt;/version&gt;</span><br><span class="line">                &lt;/dependency&gt;</span><br><span class="line">            &lt;/dependencies&gt;</span><br><span class="line">            &lt;!-- sepecify test cases --&gt;</span><br><span class="line">            &lt;configuration&gt;</span><br><span class="line">                &lt;includes&gt;</span><br><span class="line">                    &lt;include&gt;**Test*.java&lt;/include&gt;</span><br><span class="line">                &lt;/includes&gt;</span><br><span class="line">            &lt;/configuration&gt;</span><br><span class="line">          &lt;/plugin&gt;</span><br><span class="line">          &lt;plugin&gt;</span><br><span class="line">            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;2.21.0&lt;/version&gt;</span><br><span class="line">          &lt;/plugin&gt;</span><br><span class="line">        &lt;/plugins&gt;</span><br><span class="line">      &lt;/pluginManagement&gt;</span><br><span class="line">    &lt;/build&gt;</span><br><span class="line">  [...]</span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure>
<p><a href="https://www.artstation.com/artwork/0GBd4" target="_blank" rel="noopener"><img src="https://cdna.artstation.com/p/assets/images/images/010/606/696/large/bach-do-grimm-sd.jpg?1525293946" alt="RWBY 3.0 : Payback"></a></p>
<p>..-. . -.</p>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/rroks" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2018 Fen Chy<br></p>
                <p class="copyright text-muted">
                    <a target="_blank" href="http://www.gu6s.top/">闪电的6s</a>
                    <a target="_blank" href="http://gzh.autyan.net/">6s掌控雷电</a>
                    <a target="_blank" href="http://58.87.72.131:8080/w/hello">w</a>
                    <a target="_blank" href="http://druid.pub/">常威说他缺911</a>
                    <a target="_blank" href="http://www.yulaiz.com/">地王</a>
                    <a target="_blank" href="http://ikoala.net/">考拉</a>
                    <a target="_blank" href="http://baobaolei.cn/">大银蛇</a>
                    <a target="_blank" href="http://baobaolei.cn/">bydmm</a>
                    <a target="_blank" href="http://blog.autyan.com/">.net hentai</a>
                    <br>
                </p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>